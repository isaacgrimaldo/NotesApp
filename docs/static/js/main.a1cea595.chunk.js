(this.webpackJsonphomework=this.webpackJsonphomework||[]).push([[0],{158:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a(33),c=a.n(r),o=(a(67),a(7)),s=a(6),i=a.n(s),u=a(12),l=a(21),d=a(22),j=a(10),b=a(30);a(159),a(74);b.a.initializeApp({apiKey:"AIzaSyCyhrSxhAXteMuo2qhrsi49-0DENfOuFgw",authDomain:"fir-react-37382.firebaseapp.com",databaseURL:"https://fir-react-37382-default-rtdb.firebaseio.com",projectId:"fir-react-37382",storageBucket:"fir-react-37382.appspot.com",messagingSenderId:"1085112619360",appId:"1:1085112619360:web:817208f1d4228c02c84e05",measurementId:"G-GB441M2R9W"});var p=b.a.firestore(),f=new b.a.auth.GoogleAuthProvider,m=a(5),h=a(13),O=a.n(h),x=function(){var e=Object(u.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.collection("".concat(t,"/jourlnal/notes")).get();case 2:return a=e.sent,n=[],a.forEach((function(e){n.push(Object(m.a)({id:e.id},e.data()))})),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(u.a)(i.a.mark((function e(t,a){var n,r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!1,e.next=3,p.doc("/".concat(a,"/jourlnal/notes/").concat(t)).get();case 3:return r=e.sent,c=r.data(),n=!(!c.body&&!c.title),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),_=function(){var e=Object(u.a)(i.a.mark((function e(t){var a,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.cloudinary.com/v1_1/apimedia/image/upload",(a=new FormData).append("upload_preset","react-app-homewors"),a.append("file",t),e.prev=4,e.next=7,fetch("https://api.cloudinary.com/v1_1/apimedia/image/upload",{method:"POST",body:a});case 7:if(!(n=e.sent).ok){e.next=15;break}return e.next=11,n.json();case 11:return r=e.sent,e.abrupt("return",r.secure_url);case 15:return e.next=17,n.json();case 17:throw e.sent;case 18:e.next=23;break;case 20:throw e.prev=20,e.t0=e.catch(4),e.t0;case 23:case"end":return e.stop()}}),e,null,[[4,20]])})));return function(t){return e.apply(this,arguments)}}(),g="[Auth] logged",y="[Auth] logout",N="[Valid] Error",w="[Valid] logged",k="[Valid  fondNoUser]",E="[valid] loadding",C="[valid] finish",A="[Note] NoteActive",S="[Note] setAllNotes",D="[Note]  UpdateNote",I="[Note]  ErrorSaveData",L="[Note] deletNote",P="[Note] ResetNotes",F=function(){return function(){var e=Object(u.a)(i.a.mark((function e(t,a){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a().Auth.id,r={title:"",body:"",date:(new Date).getTime()},e.next=4,p.collection("".concat(n,"/jourlnal/notes")).add(r).then(function(){var e=Object(u.a)(i.a.mark((function e(a){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O.a.fire("Nueva nota","se creo una nueva nota","info"),t(B(a.id,r)),e.next=4,x(n);case 4:c=e.sent,t(M(c));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},B=function(e,t){return{type:A,payload:Object(m.a)({id:e},t)}},G=function(e){return function(){var t=Object(u.a)(i.a.mark((function t(a){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x(e);case 2:n=t.sent,a(M(n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},M=function(e){return{type:S,payload:e}},R=function(e,t){return{type:D,payload:{id:e,note:Object(m.a)(Object(m.a)({},t),{},{id:e})}}},U=function(){return{type:I,payload:!0}},V=function(e){return{type:L,payload:e}},T=a(36),W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(n.useState)(e),a=Object(l.a)(t,2),r=a[0],c=a[1],o=function(e){var t=e.target;c(Object(m.a)(Object(m.a)({},r),{},Object(T.a)({},t.name,t.value)))},s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e;c(t)};return[r,o,s]},z=a(1),X=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.Notes})),a=t.active,n=t.lostData;return Object(z.jsxs)("div",{className:"Note__Appbar animate__animated animate__fadeInDown",children:[Object(z.jsx)("span",{children:"28 de Agosto del 2021"}),Object(z.jsx)("input",{id:"selectFile",type:"file",style:{display:"none"},onChange:function(t){var a,n=t.target.files[0];n&&e((a=n,function(){var e=Object(u.a)(i.a.mark((function e(t,n){var r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n().Notes.active,O.a.fire({title:"Subiendo...",text:"subiendo la imagen",allowEnterKey:!1,onBeforeOpen:function(){O.a.showLoading()}}),e.next=4,_(a);case 4:c=e.sent,r.url=c,t(B(r.id,r)),O.a.close();case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()))}}),Object(z.jsxs)("div",{children:[Object(z.jsx)("button",{className:"btn  btn__danger",onClick:function(){var t;e((t=a.id,function(){var e=Object(u.a)(i.a.mark((function e(a,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n().Auth.id,e.next=3,p.doc("".concat(r,"/jourlnal/notes/").concat(t)).delete().then((function(e){O.a.fire("Nota borrara","Sea Borrado la nota","success")}));case 3:a(V(t));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()))},disabled:n,children:"Borrar"}),Object(z.jsx)("button",{className:"btn ",onClick:function(){document.getElementById("selectFile").click()},children:"Imagen"}),Object(z.jsx)("button",{className:"btn",onClick:function(){a.body||a.title?(e(function(e){return function(){var t=Object(u.a)(i.a.mark((function t(a,n){var r,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.url||delete e.url,r=n().Auth.id,delete(c=Object(m.a)({},e)).id,t.next=6,p.doc("".concat(r,"/jourlnal/notes/").concat(e.id)).update(c);case 6:O.a.fire("Guardado","Se guradaron correctamnete los datos","success"),a(R(e.id,e));case 8:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}(a)),e({type:I,payload:!1})):O.a.fire("Erro de envio de datos","Debe llenar correctamnete los campos","warning")},children:"Guardar"})]})]})};function q(){var e=Object(o.c)((function(e){return e.Notes})).active,t=Object(o.b)(),a=W(e),r=Object(l.a)(a,3),c=r[0],s=r[1],i=r[2],u=c.title,d=c.body,j=c.url,b=Object(n.useRef)(e.id);Object(n.useEffect)((function(){e.id!==b.current&&(i(e),b.current=e.id)}),[e,i]),Object(n.useEffect)((function(){t(B(c.id,c))}),[c,t]);return Object(z.jsxs)("div",{className:"Note__bar-content",children:[Object(z.jsx)(X,{}),Object(z.jsx)("div",{className:"note__content animate__animated animate__fadeInUp",children:Object(z.jsxs)("form",{className:"note__content  animate__animated animate__fadeInUp ",onSubmit:function(e){e.preventDefault()},children:[Object(z.jsx)("input",{type:"text",placeholder:"\xbf Que Tarea es ?",className:"note__title-input",name:"title",value:u,onChange:s}),Object(z.jsx)("textarea",{placeholder:"\xbf Que tienes que hacer ?",autoComplete:"off",className:"note__texrareas",name:"body",value:d,onChange:s}),Object(z.jsx)("div",{className:"note__img",children:j&&Object(z.jsx)("img",{src:j,alt:"una imagen"})})]})})]})}var J=function(){return{type:w}},K=function(e){return{type:N,payload:e}},Q=function(e,t){return function(a){a({type:E}),b.a.auth().signInWithEmailAndPassword(e,t).then((function(e){var t=e.user;a({type:C}),a(Y(t.uid,t.displayName))})).catch((function(e){O.a.fire("Error",e.message,"error")}))}},Y=function(e,t){return{type:g,payload:{id:e,userName:t}}},H=function(){return{type:P}},Z=a(31),$=a.n(Z),ee=(a(78),function(e){var t=e.id,a=e.title,n=e.body,r=e.date,c=e.url,s=Object(o.b)(),l=Object(o.c)((function(e){return e.Notes})).active,d=Object(o.c)((function(e){return e.Auth})).id,j=function(){var e=Object(u.a)(i.a.mark((function e(o){var u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===l||void 0===l?void 0:l.body)&&!(null===l||void 0===l?void 0:l.title)){e.next=7;break}return e.next=3,v(l.id,d);case 3:(u=e.sent)?s(B(t,{date:r,title:a,body:n,url:c})):(console.log(u),O.a.fire("Erro al guardar los datos","Los datos deben ser guardados","warning")),e.next=8;break;case 7:l?l&&O.a.fire("Accion no restringida","debe llenar por lo menos 1 espacio","warning"):s(B(t,{date:r,title:a,body:n,url:c}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(z.jsx)(z.Fragment,{children:Object(z.jsxs)("div",{className:"journal__entri pointer",onClick:j,children:[c&&Object(z.jsx)("div",{className:"journal__entri-picture",style:{backgroundSize:"cover",backgroundImage:"url( ".concat(c,")")}}),Object(z.jsx)("div",{className:"journal__entry-body",children:Object(z.jsxs)("p",{className:"joural__entry-title",children:[a,$()().format("h:mm")]})}),Object(z.jsxs)("div",{className:"journal__entry-date-box",children:[Object(z.jsxs)("p",{className:"journal__entry-date-day",children:[" ",$()().format("dddd")]}),Object(z.jsxs)("p",{className:"journal__entry-date-mont-numday",children:[" ",$()().format("MMMM D")]})]})]})})}),te=function(){var e=Object(o.c)((function(e){return e.Notes})).notes;return Object(z.jsx)("div",{className:"joutnal__Entris animate__animated animate__fadeInLeft",children:e.map((function(e){return e.body||e.title?Object(z.jsx)(ee,Object(m.a)({},e),e.id):""}))})},ae=function(){var e=Object(o.c)((function(e){return e.Auth})).name,t=Object(o.c)((function(e){return e.Notes})).active,a=Object(o.c)((function(e){return e.Notes})).lostData,n=Object(o.b)();return Object(z.jsxs)("aside",{className:"journal__sidebar animate__animated animate__fadeInLeft",children:[Object(z.jsxs)("div",{className:"journal__sidebar-navbar",children:[Object(z.jsxs)("h3",{className:"mt-5",children:[Object(z.jsx)("i",{className:"fas fa-address-book"}),Object(z.jsxs)("span",{children:[" ",null===e?"sin user":e]})]}),Object(z.jsx)("button",{className:"btn mt-1",onClick:function(e){e.preventDefault(),n(function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.auth().signOut().then((function(e){t(H()),t({type:y})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:"logout"}),Object(z.jsx)("div",{className:"journla__new-entry",children:Object(z.jsxs)("button",{className:"btn",disabled:a,onClick:function(e){e.preventDefault(),(null===t||void 0===t?void 0:t.body)||(null===t||void 0===t?void 0:t.title)?(n(U()),n(F())):t?t&&O.a.fire("Accion  restringida","Debe borrar o guardar la nota actual","error"):(n(U()),n(F()))},children:[Object(z.jsx)("i",{className:"far fa-calendar-plus fa-5x "}),Object(z.jsx)("p",{className:"mt-1",children:"Nueva Nota"})]})})]}),Object(z.jsx)(te,{})]})},ne=function(){return Object(z.jsxs)("div",{className:"noting__main-content animate__animated animate__fadeInDown",children:[Object(z.jsxs)("p",{className:"noting__body",children:["Select Someting",Object(z.jsx)("br",{}),"seleccione algo"]}),Object(z.jsx)("i",{className:"far fa-clipboard fa-5x mt-5"})]})},re=function(){var e=Object(o.c)((function(e){return e.Notes})).active;return Object(z.jsx)(z.Fragment,{children:Object(z.jsxs)("div",{className:"journal__main-content",children:[Object(z.jsx)(ae,{}),Object(z.jsx)("main",{children:null===e?Object(z.jsx)(ne,{}):Object(z.jsx)(q,{})})]})})},ce=a(37),oe=a.n(ce),se=function(){var e=Object(o.c)((function(e){return e.Valid})),t=e.msgError,a=e.usuarioExist,n=e.load,r=Object(o.b)(),c=W({email:"",password:""}),s=Object(l.a)(c,2),i=s[0],u=s[1],j=i.email,p=i.password,m=function(){return oe.a.isEmail(j)?p<6?(r(K("ingrese una password valida mayor de 6 caracteres")),!1):(r(J()),!0):(r(K("Ingrese un email valido")),!1)};return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("h3",{className:"auth__title",children:"Login"}),null!==a&&Object(z.jsx)("div",{className:"alert__eroror-from",children:a}),null!==t&&Object(z.jsx)("div",{className:"alert__eroror-from",children:t}),Object(z.jsx)("hr",{}),Object(z.jsxs)("form",{className:"auth__form animate__animated animate__fadeIn",onSubmit:function(e){e.preventDefault(),m()&&r(Q(j,p))},children:[Object(z.jsx)("input",{className:"auth__input",value:j,onChange:u,type:"text",placeholder:"Correo electrico",name:"email",autoComplete:"off"}),Object(z.jsx)("input",{className:"auth__input",value:p,onChange:u,type:"password",placeholder:"Contrase\xf1a",name:"password",autoComplete:"off"}),Object(z.jsx)("button",{type:"submit",className:"btn btn-Primary btn__block",disabled:n,children:"Entrar"}),Object(z.jsx)("hr",{}),Object(z.jsx)("div",{children:Object(z.jsxs)("div",{className:"google-btn",onClick:function(){r((function(e){b.a.auth().signInWithPopup(f).then((function(t){var a=t.user;e(Y(a.uid,a.email))}))}))},children:[Object(z.jsx)("div",{className:"google-icon-wrapper",children:Object(z.jsx)("img",{className:"google-icon",src:"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg",alt:"google button"})}),Object(z.jsx)("p",{className:"btn-text",children:Object(z.jsx)("b",{children:"Sign in with google"})})]})}),Object(z.jsx)(d.b,{className:"link",to:"/auth/register",children:"click si no tines cuenta"})]})]})},ie=function(){var e=Object(o.c)((function(e){return e.Valid})).msgError,t=Object(o.b)(),a=W({name:"",email:"",password:"",password2:""}),n=Object(l.a)(a,2),r=n[0],c=n[1],s=r.name,j=r.email,p=r.password,f=r.password2,m=function(){return 0===s.trim().length?(t(K("Error de en el nombre de usuario")),!1):oe.a.isEmail(j)?!(p!==f||p.length<6||f.length<6)||(t(K("Error en el password de usuario")),!1):(t(K("Error en el email de usuario")),!1)};return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("h3",{className:"auth__title",children:"Registro"}),Object(z.jsx)("hr",{}),null!=e&&Object(z.jsx)("div",{className:"alert__eroror-from",children:e}),Object(z.jsx)("div",{className:"animate__animated animate__fadeIn",children:Object(z.jsxs)("form",{className:"auth__form ",onSubmit:function(e){e.preventDefault(),m()&&(t(J()),t(function(e,t,a){return function(n){b.a.auth().createUserWithEmailAndPassword(t,a).then(function(){var t=Object(u.a)(i.a.mark((function t(a){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.user,t.next=3,r.updateProfile({displayName:e});case 3:n(Y(r.uid,r.displayName));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){O.a.fire("Error",e.message,"error")}))}}(s,j,p)))},children:[Object(z.jsx)("input",{className:"auth__input",type:"text",placeholder:"Nombre de usuario",name:"name",value:s,onChange:c,autoComplete:"off"}),Object(z.jsx)("input",{className:"auth__input",type:"text",placeholder:"Correo electrico",name:"email",value:j,onChange:c,autoComplete:"off"}),Object(z.jsx)("input",{className:"auth__input",type:"password",placeholder:"Contrase\xf1a",name:"password",value:p,onChange:c,autoComplete:"off"}),Object(z.jsx)("input",{className:"auth__input",type:"password",placeholder:"Confrime la contrase\xf1a",name:"password2",value:f,onChange:c,autoComplete:"off"}),Object(z.jsx)("button",{type:"submit",className:"btn btn-Primary btn__block",children:"Resgritrar"}),Object(z.jsx)("hr",{}),Object(z.jsx)(d.b,{className:"link",to:"/auth/login",children:"\xbfYa estas regristrado?"})]})})]})},ue=function(){return Object(z.jsx)("div",{className:"auth__main",children:Object(z.jsx)("div",{className:"auth__box-container",children:Object(z.jsxs)(j.d,{children:[Object(z.jsx)(j.b,{path:"/auth/login",component:se}),Object(z.jsx)(j.b,{path:"/auth/register",component:ie}),Object(z.jsx)(j.a,{to:"/auth/login"})]})})})},le=function(){return Object(z.jsx)("div",{className:"pageLOad",children:Object(z.jsx)("p",{className:"alert__Load",children:"Cargando....."})})},de=a(38),je=function(e){var t=e.Auth,a=e.component,n=Object(de.a)(e,["Auth","component"]);return Object(z.jsx)(j.b,Object(m.a)(Object(m.a)({},n),{},{component:function(e){return t?Object(z.jsx)(j.a,{to:"/"}):Object(z.jsx)(a,Object(m.a)({},e))}}))},be=function(e){var t=e.Auth,a=e.component,n=Object(de.a)(e,["Auth","component"]);return Object(z.jsx)(j.b,Object(m.a)(Object(m.a)({},n),{},{component:function(e){return t?Object(z.jsx)(a,Object(m.a)({},e)):Object(z.jsx)(j.a,{to:"/auth/login"})}}))},pe=function(){var e=Object(n.useState)(!0),t=Object(l.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),s=Object(l.a)(c,2),p=s[0],f=s[1],m=Object(o.b)();return Object(n.useEffect)((function(){b.a.auth().onAuthStateChanged(function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(null===t||void 0===t?void 0:t.uid)?(m(Y(t.uid,t.displayName)),f(!0),m(G(t.uid))):f(!1),r(!1);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[m]),a?Object(z.jsx)(le,{}):Object(z.jsx)(d.a,{children:Object(z.jsx)("div",{children:Object(z.jsxs)(j.d,{children:[p?Object(z.jsx)(be,{Auth:p,component:re,exact:!0,path:"/"}):Object(z.jsx)(je,{Auth:p,component:ue}),Object(z.jsx)(j.a,{to:"/"})]})})})},fe=a(23),me=a(61),he=a(62),Oe={notes:[],active:null,lostData:!1},xe={load:!1,msgError:null,usuarioExist:null},ve="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||fe.d,_e=Object(fe.c)({Auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return{id:t.payload.id,name:t.payload.userName};case y:return{};default:return e}},Valid:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(m.a)(Object(m.a)({},e),{},{msgError:t.payload});case w:return Object(m.a)(Object(m.a)({},e),{},{msgError:null,usuarioExist:null});case k:return Object(m.a)(Object(m.a)({},e),{},{usuarioExist:t.payload});case E:return Object(m.a)(Object(m.a)({},e),{},{load:!0});case C:return Object(m.a)(Object(m.a)({},e),{},{load:!1});default:return e}},Notes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return Object(m.a)(Object(m.a)({},e),{},{active:Object(m.a)({},t.payload)});case S:return Object(m.a)(Object(m.a)({},e),{},{notes:Object(he.a)(t.payload)});case D:return Object(m.a)(Object(m.a)({},e),{},{notes:e.notes.map((function(e){return e.id===t.payload.id?t.payload.note:e}))});case I:return Object(m.a)(Object(m.a)({},e),{},{lostData:t.payload});case L:return Object(m.a)(Object(m.a)({},e),{},{active:null,notes:e.notes.filter((function(e){return e.id!==t.payload}))});case P:return Oe;default:return e}}}),ge=Object(fe.e)(_e,ve(Object(fe.a)(me.a))),ye=function(){return Object(z.jsx)(o.a,{store:ge,children:Object(z.jsx)(pe,{})})};c.a.render(Object(z.jsx)(ye,{}),document.getElementById("root"))},67:function(e,t,a){}},[[158,1,2]]]);
//# sourceMappingURL=main.a1cea595.chunk.js.map